@page "/documentation/Net2Linux"

@if (!isSubmitted)
{
    <h3>What is your project type?</h3>

    <EnumButtons TEnum="DotNetProjectType" SelectedEnum=State.ProjectType OnSelectionChanged=SelectProjectType />

    <h3>First time setting up this VM?</h3>

    <EnumButtons TEnum="VmSetupType" SelectedEnum=State.SetupType OnSelectionChanged=SelectSetupType />

    @if (State.ProjectType is not null && State.SetupType is not null)
    {
        <div>
            <button class="btn btn-success" @onclick=Submit>Submit</button>
        </div>
    }
}
else
{



    <LeftNav>

        <li class="list-inline-item">

            <button @onclick=SwitchProjectTypeDrop type="button" class="btn btn-sm btn-primary" aria-expanded="false">
                @(GetSummary<DotNetProjectType>(State.ProjectType.Value))
            </button>

            @if (isProjectTypeDropShowing)
            {
                <ul class="dropdown-menu show" id="project-type-drop">
                    @foreach (var val in Enum.GetValues<DotNetProjectType>())
                    {
                        <li><a @onclick="@(() => SelectProjectType(val))" @onclick:preventDefault class="dropdown-item" href="#">@(GetSummary<DotNetProjectType>(val))</a></li>
                    }
                </ul>
            }

        </li>

        <li class="list-inline-item">

            <button @onclick=SwitchSetupTypeDrop type="button" class="btn btn-sm btn-primary" aria-expanded="false">
                @(GetSummary<VmSetupType>(State.SetupType.Value))
            </button>
            @if (isSetupTypeDropShowing)
            {
                <ul class="dropdown-menu show" id="setup-type-drop">
                    @foreach (var val in Enum.GetValues<VmSetupType>())
                    {
                        <li><a @onclick="@(() => SelectSetupType(val))" @onclick:preventDefault class="dropdown-item" href="#">@(GetSummary<VmSetupType>(val))</a></li>
                    }
                </ul>
            }
        </li>

    </LeftNav>


    <VmSetup />

    <Pipeline />
    <Nginx />
    <Certbot />
}
